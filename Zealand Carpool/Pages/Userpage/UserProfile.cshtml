@page
@model Zealand_Carpool.Pages.Userpage.UserProfile
@{ 
}
<div class="container">
    Hej @Model.LoggedInUser.Name @Model.LoggedInUser.Surname

    <br />
    <p>ID: @Model.LoggedInUser.Id</p>
    <p>Email: @Model.LoggedInUser.Email</p>
    <p>Telefonnummer: @Model.LoggedInUser.Phonenumber</p>
    <p>bruger type: @Model.LoggedInUser.UserType.ToString()</p>
    @foreach (Models.Address address in Model.LoggedInUser.AddressList)
    {
        <p>adresse: @address.StreetName @address.StreetNumber , @address.CityName @address.Postalcode</p>
        <p>@address.Longtitude og @address.Latitude</p>
    }
</div>
<style>
    div.comment {
        margin: 10px;
        border-radius: 5px;
        border: 5px lightgray;
        background: whitesmoke;
        padding: 10px;
        width: 250px;
    }
</style>
<div class="container">
    <form method="post">
        <div class="comment">
            <div class="form-group">
                <label for="ctxt">@Model.LoggedInUser.Name @Model.LoggedInUser.Surname</label>
                <input asp-for="@Model.Comment.Text" id="ctxt" />
                <input type="hidden" asp-for="@Model.LoggedInUser.Id" />
                <br />
                <button type="submit" class="btn btn-primary">Kommentér</button>
            </div>
        </div>
    </form>
</div>
<div class="container">
    @foreach (var comment in Model.UserComments)
    {
        <div class="comment">
            <a asp-page="/Userpage/VisitUsersProfile" asp-route-id="@comment.UserPostID.Id">@comment.UserPostID.Name @comment.UserPostID.Surname</a>
            <p>@comment.Text</p>
            @if (comment.UserPostID.Id.Equals(Model.LoggedInUser.Id))
            {
                <form asp-page-handler="edit" method="post">
                    <button class="btn btn-primary">Rediger</button>
                </form>
                <form asp-page-handler="delete" method="post">
                    <input type="hidden" asp-for="@comment.Id" />
                    <input type="hidden" asp-for="@comment.UserID.Id" />
                    <button type="submit" class="btn btn-primary"> Slet</button>
                </form>
            }
        </div>
    }
</div>